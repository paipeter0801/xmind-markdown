import{V,b as Z,h as T,a as J,af as Q,r as W,ag as x,H as ee,e as re,s as se,f as L,i as ae,ah as Y,F as M,m,S as B,w as te,ai as ie,aj as ue,ak as fe,al as ne,am as le,an as oe,ao as ce,d as _e,ap as ve,aq as P,ar as de,a2 as pe,X as be,as as he,at as Ae,au as ge,av as Te,aw as ye}from"./utils.PJwVcRqf.js";import{B as Ee}from"./branches.54bsqzi5.js";import{t as Ne,a as Se,s as Ie}from"./utils.BYruac-D.js";function we(e,r){if(r){const s=document.body;e.autofocus=!0,V(()=>{document.activeElement===s&&e.focus()})}}let D=!1;function Le(){D||(D=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function Be(e,r,s=!1){var a;T&&(a=ae,J());var t=new Ee(e),n=s?Q:0;function d(c,l){if(T){var f=W(a),h;if(f===x?h=0:f===ee?h=!1:h=parseInt(f.substring(1)),c!==h){var g=re();se(g),t.anchor=g,L(!1),t.ensure(c,l),L(!0);return}}t.ensure(c,l)}Z(()=>{var c=!1;r((l,f=0)=>{c=!0,d(f,l)}),c||d(!1,null)},n)}function Oe(e,r){var s=void 0,a;Y(()=>{s!==(s=r())&&(a&&(M(a),a=null),s&&(a=m(()=>{B(()=>s(e))})))})}function C(e,r={},s,a){for(var t in s){var n=s[t];r[t]!==n&&(s[t]==null?e.style.removeProperty(t):e.style.setProperty(t,n,a))}}function Pe(e,r,s,a){var t=e.__style;if(T||t!==r){var n=Ne(r,a);(!T||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=r}else a&&(Array.isArray(a)?(C(e,s?.[0],a[0]),C(e,s?.[1],a[1],"important")):C(e,s,a));return a}function R(e,r,s=!1){if(e.multiple){if(r==null)return;if(!te(r))return ie();for(var a of e.options)a.selected=r.includes(G(a));return}for(a of e.options){var t=G(a);if(ue(t,r)){a.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function Ce(e){var r=new MutationObserver(()=>{R(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),fe(()=>{r.disconnect()})}function G(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),I=Symbol("style"),F=Symbol("is custom element"),$=Symbol("is html"),Me=P?"link":"LINK",Re=P?"input":"INPUT",ke=P?"option":"OPTION",He=P?"select":"SELECT";function Ue(e){if(T){var r=!1,s=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var a=e.value;O(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var t=e.checked;O(e,"checked",null),e.checked=t}}};e.__on_r=s,V(s),Le()}}function De(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,r,s,a){var t=j(e);T&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName===Me)||t[r]!==(t[r]=s)&&(r==="loading"&&(e[Te]=s),s==null?e.removeAttribute(r):typeof s!="string"&&q(e).includes(r)?e[r]=s:e.setAttribute(r,s))}function Ge(e,r,s,a,t=!1,n=!1){if(T&&t&&e.nodeName===Re){var d=e,c=d.type==="checkbox"?"defaultChecked":"defaultValue";c in s||Ue(d)}var l=j(e),f=l[F],h=!l[$];let g=T&&f;g&&L(!1);var o=r||{},E=e.nodeName===ke;for(var A in r)A in s||(s[A]=null);s.class?s.class=Se(s.class):s[S]&&(s.class=null),s[I]&&(s.style??=null);var w=q(e);for(const i in s){let u=s[i];if(E&&i==="value"&&u==null){e.value=e.__value="",o[i]=u;continue}if(i==="class"){var N=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ie(e,N,u,a,r?.[S],s[S]),o[i]=u,o[S]=s[S];continue}if(i==="style"){Pe(e,u,r?.[I],s[I]),o[i]=u,o[I]=s[I];continue}var p=o[i];if(!(u===p&&!(u===void 0&&e.hasAttribute(i)))){o[i]=u;var k=i[0]+i[1];if(k!=="$$")if(k==="on"){const b={},y="$$"+i;let v=i.slice(2);var H=ye(v);if(de(v)&&(v=v.slice(0,-7),b.capture=!0),!H&&p){if(u!=null)continue;e.removeEventListener(v,o[y],b),o[y]=null}if(H)pe(v,e,u),be([v]);else if(u!=null){let X=function(z){o[i].call(this,z)};o[y]=he(v,e,X,b)}}else if(i==="style")O(e,i,u);else if(i==="autofocus")we(e,!!u);else if(!f&&(i==="__value"||i==="value"&&u!=null))e.value=e.__value=u;else if(i==="selected"&&E)De(e,u);else{var _=i;h||(_=Ae(_));var U=_==="defaultValue"||_==="defaultChecked";if(u==null&&!f&&!U)if(l[i]=null,_==="value"||_==="checked"){let b=e;const y=r===void 0;if(_==="value"){let v=b.defaultValue;b.removeAttribute(_),b.defaultValue=v,b.value=b.__value=y?v:null}else{let v=b.defaultChecked;b.removeAttribute(_),b.defaultChecked=v,b.checked=y?v:!1}}else e.removeAttribute(i);else U||w.includes(_)&&(f||typeof u!="string")?(e[_]=u,_ in l&&(l[_]=ge)):typeof u!="function"&&O(e,_,u)}}}return g&&L(!0),o}function Fe(e,r,s=[],a=[],t=[],n,d=!1,c=!1){ce(t,s,a,l=>{var f=void 0,h={},g=e.nodeName===He,o=!1;if(Y(()=>{var A=r(...l.map(_e)),w=Ge(e,f,A,n,d,c);o&&g&&"value"in A&&R(e,A.value);for(let p of Object.getOwnPropertySymbols(h))A[p]||M(h[p]);for(let p of Object.getOwnPropertySymbols(A)){var N=A[p];p.description===ve&&(!f||N!==f[p])&&(h[p]&&M(h[p]),h[p]=m(()=>Oe(e,()=>N))),w[p]=N}f=w}),g){var E=e;B(()=>{R(E,f.value,!0),Ce(E)})}o=!0})}function j(e){return e.__attributes??={[F]:e.nodeName.includes("-"),[$]:e.namespaceURI===ne}}var K=new Map;function q(e){var r=e.getAttribute("is")||e.nodeName,s=K.get(r);if(s)return s;K.set(r,s=[]);for(var a,t=e,n=Element.prototype;n!==t;){a=oe(t);for(var d in a)a[d].set&&s.push(d);t=le(t)}return s}const Ke={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function $e(e,r,s){return new Proxy({props:e,exclude:r},Ke)}function je(e,r,s,a){var t=a,n=!0,d=()=>(n&&(n=!1,t=a),t),c;c=e[r],c===void 0&&a!==void 0&&(c=d());var l;return l=()=>{var f=e[r];return f===void 0?d():(n=!0,f)},l}export{Fe as a,Pe as b,Be as i,je as p,$e as r,O as s};
